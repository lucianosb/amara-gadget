{"ts":1358860839433,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<Module>\r\n    <ModulePrefs title=\"Amara gadget\">\r\n        <Require feature=\"wave\" />\r\n        <Require feature=\"dynamic-height\" />\r\n    </ModulePrefs>\r\n    <Content type=\"html\">\r\n    <![CDATA[\r\n        <html>\r\n            <script type=\"text/javascript\" src=\"http://s3.www.universalsubtitles.org/js/unisubs-widgetizer.js\"></script>\r\n\r\n            <script type=\"text/javascript\">\r\n                function onSubmit() {\r\n                    var youtube = document.getElementById('youtube').value;\r\n                    wave.getState().submitDelta({youtube: equation});\r\n                }\r\n\r\n                function getImage() {\r\n                    var div = document.getElementById('content-div');\r\n                    if (!div.children.length) {\r\n                        var image = new Image();\r\n                        image.onload = function() {\r\n                            gadgets.window.adjustHeight();\r\n                        };\r\n                        div.appendChild(image);\r\n                    }\r\n                    return div.children[0];\r\n                }\r\n\r\n                function stateUpdated() {\r\n                    var state = wave.getState();\r\n                    if (!state.get('equation')) {\r\n                        state.submitDelta({equation: 'T _E ^X'});\r\n                    } else {\r\n                        var equation = state.get('equation');\r\n                        var encoded = encodeURIComponent(equation);\r\n                        var image = getImage();\r\n                        image.src = 'http://chart.apis.google.com/chart?cht=tx&chf=bg,i,FFFFFFF0&chco=000000&chl=' + encoded;\r\n                        \r\n                        <object width=\"560\" height=\"315\"><param name=\"movie\" value=\"http://www.youtube.com/v/gOCIBae0M44?hl=pt_BR&amp;version=3\"></param><param name=\"allowFullScreen\" value=\"true\"></param><param name=\"allowscriptaccess\" value=\"always\"></param><embed src=\"http://www.youtube.com/v/gOCIBae0M44?hl=pt_BR&amp;version=3\" type=\"application/x-shockwave-flash\" width=\"560\" height=\"315\" allowscriptaccess=\"always\" allowfullscreen=\"true\"></embed></object>\r\n\r\n                        document.getElementById('equation').value = equation;\r\n                    }\r\n                }\r\n\r\n                function init() {\r\n                    if (wave && wave.isInWaveContainer()) {\r\n                        wave.setStateCallback(stateUpdated);\r\n                    }\r\n                }\r\n\r\n                gadgets.util.registerOnLoadHandler(init);\r\n            </script>\r\n\r\n            <body style=\"padding: 3px\">\r\n                <div id=\"content-div\"></div>\r\n                <form onsubmit=\"onSubmit(); return false;\">\r\n                    <input id=\"youtube\" type=\"text\" value=\"Enter the video url here\">\r\n                    <input type=\"submit\" value=\"Go\">\r\n                </form>\r\n\r\n            <script type=\"text/javascript\" src=\"http://s3.www.universalsubtitles.org/js/unisubs-widgetizer.js\"></script>\r\n            <script type=\"text/javascript\" src=\"http://s3.www.universalsubtitles.org/js/widgetizer/widgetizerprimer.js\"></script>\r\n\r\n            </body>\r\n        </html>\r\n    ]]>\r\n    </Content>\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n"]],"start1":0,"start2":0,"length1":0,"length2":3198}]],"length":3198}
